define("seajs/plugin-combo",[],function(){function a(){var a=l.prototype,c=a._load;a._load=function(a,d){b(a),c.call(this,a,d)}}function b(a){var b=[],d=k.comboExcludes;j.forEach(a,function(a){var c=m[a];if(!(c&&!(c.status<l.STATUS.FETCHING)||d&&d.test(a))){var a=j.parseMap(a),e=k.comboSyntax||["??",","],c=e[0],e=e[1];!(c&&a.indexOf(c)>0||e&&a.indexOf(e)>0)&&b.push(a)}}),b.length>1&&seajs.config({map:g(c(b))})}function c(a){return e(d(a))}function d(a){var b={__KEYS:[]};return j.forEach(a,function(a){var a=a.replace("://","__").split("/"),c=b;j.forEach(a,function(a){c[a]||(c[a]={__KEYS:[]},c.__KEYS.push(a)),c=c[a]})}),b}function e(a){var b=[];return j.forEach(a.__KEYS,function(c){for(var d=c,c=a[c],e=c.__KEYS;1===e.length;)d+="/"+e[0],c=c[e[0]],e=c.__KEYS;e.length&&b.push([d.replace("__","://"),f(c)])}),b}function f(a){var b=[];return j.forEach(a.__KEYS,function(c){var d=f(a[c]);d.length?j.forEach(d,function(a){b.push(c+"/"+a)}):b.push(c)}),b}function g(a){var b=k.comboSyntax||["??",","],c=[];return j.forEach(a,function(a){var d=a[0]+"/",a=h(a[1]);j.forEach(a,function(a){var e={},f=d+b[0]+a.join(b[1]);if(f.length>2e3)throw Error("The combo url is too long: "+f);j.forEach(a,function(a){e[d+a]=f}),c.push(function(a){return e[a]||a})})}),c}function h(a){var b=[],c={};j.forEach(a,function(a){var b;b=a.lastIndexOf("."),(b=b>=0?a.substring(b):"")&&(c[b]||(c[b]=[])).push(a)});for(var d in c)c.hasOwnProperty(d)&&b.push(c[d]);return b}var i=seajs.pluginSDK,j=i.util,k=i.config,l=i.Module,m=seajs.cache;seajs.debug?seajs.log("Combo is turned off in debug mode"):a(),j.toComboPaths=c,j.toComboMap=g}),seajs.use("seajs/plugin-combo");